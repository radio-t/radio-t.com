<!-- create small cover -->
{{ $cover := .Params.image  }}
{{ if .Params.image }}
{{ else }}
  {{ $cover = "/images/covers/cover.png" }}
{{ end }}

<button
  class="podcast-cover"
  title="Слушать {{ .Title }}"
  data-action="podcast#toggle"
  data-target="podcast.playButton podcast.number podcast-progress.number"
  data-number="{{ index (findRE `\d+$` .Title) 0 }}"
>

  <picture class="podcast-picture d-block" data-target="podcast.cover">
    <source src="{{ replaceRE `.(jpg|png)$` ".webp" $cover }}" media="image/webp" />
    <img class="podcast-image d-block" src="{{ $cover }}" loading="lazy" decoding="async"/>
  </picture>
  <svg  class="podcast-icon" width="48%" height="48%" viewBox="0 0 448 512">
    <use data-target="podcast.icon" xlink:href="#icon-play" />
  </svg>
  {{ partial "podcast-progress" }}
</button>
